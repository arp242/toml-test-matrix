<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TOML test matrix</title>
<style>
html         { background-color:#eee; font:18px/1.5em sans-serif; }
body         { background-color:#fff; padding:1em; max-width:80em; margin:1em auto; overflow-y:scroll; }
small        { font-size:.75em; }
table        { border-collapse:collapse; }
td, th       { border:1px solid #d7d7d7; padding:.5em; vertical-align:top; }
td:nth-child(1) { white-space:nowrap; }
th           { font-weight:normal; text-align:left; }
.pass        { }
.fail        { float:right; }
.didfail     { font-weight:bold; color:red; }
.bench       { text-align:right; }
a            { text-decoration:none; }
a:hover      { text-decoration:underline; }
.ui:visited  { color:LinkText; text-decoration:none; }
.bars        { height:.5em; line-height:0; }
.barp, .barf { display:inline-block; height:.5em; }
.barp        { background:#c6c6c6; color:#fff; }
.barf        { background:red; color:#fff; text-align:right;}
.allpass     {  }
#langs       { text-align:right; margin-bottom:.5em; display:none; }
label        { margin-right:.4em; }
</style>
</head>
<body>
<p>This tests various parsers agains the <a href="https://github.com/toml-lang/toml-test">toml-test</a>
suite (<a href="https://github.com/arp242/toml-test-matrix">Source</a>). It
doesn't include all parsers (yet), see <a href="https://github.com/toml-lang/toml/wiki">the wiki</a>
for a full list.</p>

<p>The benchmark is a simple decode of a 5M file. Results aren't
necessarily fair, as some implementations will parse numbers, dates,
etc. when reading the file, and others when the data is used. Still, it
should be a decent rough comparison.</p>

<p>"Valid tests" are valid TOML documents given to parse. "Invalid
tests" are invalid TOML documents the parser should reject. Failing
invalid tests are usually less of a deal than failing valid tests.</p>

<div id="langs">Only show:
<label><input type='checkbox' value='C'>C (1)</label>
<label><input type='checkbox' value='C++'>C++ (2)</label>
<label><input type='checkbox' value='Go'>Go (2)</label>
<label><input type='checkbox' value='Python'>Python (1)</label>
<label><input type='checkbox' value='Ruby'>Ruby (2)</label>
<label><input type='checkbox' value='Rust'>Rust (3)</label>
</div>
<table>
<thead><tr>
<th>Name</th>
<th>Valid tests</th>
<th>Invalid tests</th>
<th>Encoder tests</th>
<th>Benchmark</th>
<th></th>
</tr></thead>
<tbody>
<tr data-lang="C++">
<td title="Version 941341f"><a href="https://github.com/marzer/tomlplusplus">toml++</a><br>
<small>C++</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 283</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:98.07692307692308%"></span><span class="barf" style="width:1.9230769230769231%"></span>
</div>
<small class="pass">pass: 153</small>
<span class="fail didfail">fail: 3</span>
</td>
<td class='bench'>0.18s</td>
<td><a href="output/c++-toml++.html" class="ui">output</a></td>
</tr>
<tr data-lang="C++">
<td title="Version 087408a"><a href="https://github.com/ToruNiina/toml11">toml11</a><br>
<small>C++</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:99.358974358974365%"></span><span class="barf" style="width:0.64102564102564097%"></span>
</div>
<small class="pass">pass: 155</small>
<span class="fail didfail">fail: 1</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 283</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em"><em>(doesn't include encoder)</em></td>
<td class='bench'>3.27s</td>
<td><a href="output/c++-toml11.html" class="ui">output</a></td>
</tr>
<tr data-lang="C">
<td title="Version 10c886b"><a href="https://github.com/cktan/tomlc99">tomlc99</a><br>
<small>C</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:97.435897435897431%"></span><span class="barf" style="width:2.5641025641025639%"></span>
</div>
<small class="pass">pass: 152</small>
<span class="fail didfail">fail: 4</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:92.226148409893995%"></span><span class="barf" style="width:7.7738515901060072%"></span>
</div>
<small class="pass">pass: 261</small>
<span class="fail didfail">fail: 22</span>
</td>
<td style="width:30em"><em>(doesn't include encoder)</em></td>
<td class='bench'>12.18s</td>
<td><a href="output/c-tomlc99.html" class="ui">output</a></td>
</tr>
<tr data-lang="Go">
<td title="Version a76e18e"><a href="https://github.com/pelletier/go-toml">go-toml</a><br>
<small>Go</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 283</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:94.871794871794876%"></span><span class="barf" style="width:5.1282051282051277%"></span>
</div>
<small class="pass">pass: 148</small>
<span class="fail didfail">fail: 8</span>
</td>
<td class='bench'>1.76s</td>
<td><a href="output/go-go-toml.html" class="ui">output</a></td>
</tr>
<tr data-lang="Go">
<td title="Version fb576ca"><a href="https://github.com/burntSushi/toml">toml</a><br>
<small>Go</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:95.759717314487631%"></span><span class="barf" style="width:4.2402826855123674%"></span>
</div>
<small class="pass">pass: 271</small>
<span class="fail didfail">fail: 12</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td class='bench'>0.41s</td>
<td><a href="output/go-toml.html" class="ui">output</a></td>
</tr>
<tr data-lang="Python">
<td title="Version Python 3.11.5"><a href="https://docs.python.org/3/library/tomllib.html">tomllib</a><br>
<small>Python</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 283</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em"><em>(doesn't include encoder)</em></td>
<td class='bench'>1.19s</td>
<td><a href="output/python-tomllib.html" class="ui">output</a></td>
</tr>
<tr data-lang="Ruby">
<td title="Version ee9461d"><a href="https://github.com/mame/perfect_toml">perfect_toml</a><br>
<small>Ruby</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:99.646643109540634%"></span><span class="barf" style="width:0.35335689045936397%"></span>
</div>
<small class="pass">pass: 282</small>
<span class="fail didfail">fail: 1</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td class='bench'>0.68s</td>
<td><a href="output/ruby-perfect_toml.html" class="ui">output</a></td>
</tr>
<tr data-lang="Ruby">
<td title="Version db2eddb"><a href="https://github.com/fbernier/tomlrb">tomlrb</a><br>
<small>Ruby</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:98.233215547703182%"></span><span class="barf" style="width:1.7667844522968199%"></span>
</div>
<small class="pass">pass: 278</small>
<span class="fail didfail">fail: 5</span>
</td>
<td style="width:30em"><em>(doesn't include encoder)</em></td>
<td class='bench'>4.31s</td>
<td><a href="output/ruby-tomlrb.html" class="ui">output</a></td>
</tr>
<tr data-lang="Rust">
<td title="Version 0.1.4"><a href="https://github.com/dtolnay/basic-toml">basic-toml</a><br>
<small>Rust</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:87.820512820512818%"></span><span class="barf" style="width:12.179487179487179%"></span>
</div>
<small class="pass">pass: 137</small>
<span class="fail didfail">fail: 19</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:98.939929328621915%"></span><span class="barf" style="width:1.0600706713780919%"></span>
</div>
<small class="pass">pass: 280</small>
<span class="fail didfail">fail: 3</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp " style="width:83.974358974358978%"></span><span class="barf" style="width:16.025641025641026%"></span>
</div>
<small class="pass">pass: 131</small>
<span class="fail didfail">fail: 25</span>
</td>
<td class='bench'><em>(error)</em></td>
<td><a href="output/rust-basic-toml.html" class="ui">output</a></td>
</tr>
<tr data-lang="Rust">
<td title="Version 0.8.1"><a href="https://github.com/toml-rs/toml/tree/main/crates/toml">toml</a><br>
<small>Rust</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 283</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td class='bench'>0.16s</td>
<td><a href="output/rust-toml.html" class="ui">output</a></td>
</tr>
<tr data-lang="Rust">
<td title="Version 0.20.1"><a href="https://github.com/toml-rs/toml/tree/main/crates/toml_edit">toml_edit</a><br>
<small>Rust</small>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 283</small>
<span class="fail ">fail: 0</span>
</td>
<td style="width:30em">
<div class="bars">
<span class="barp allpass" style="width:100%"></span><span class="barf" style="width:0%"></span>
</div>
<small class="pass">pass: 156</small>
<span class="fail ">fail: 0</span>
</td>
<td class='bench'>0.15s</td>
<td><a href="output/rust-toml_edit.html" class="ui">output</a></td>
</tr>
<script>
window.langs.style.display = 'block'

let checks = document.querySelectorAll('input'),
rows   = document.querySelectorAll('tbody tr')
window.langs.addEventListener('click', (e) => {
if (e.target.tagName !== 'INPUT')
return
let boxes = {},
v     = false
checks.forEach((elem) => boxes[elem.value] = elem.checked)
rows.forEach((elem) => {
elem.style.display = boxes[elem.dataset.lang] ? '' : 'none'
v = v || boxes[elem.dataset.lang]
})
if (!v)
rows.forEach((elem) => elem.style.display = '')
})
</script>
</tbody></table>
</body></html>
